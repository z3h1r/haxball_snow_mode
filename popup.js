function getCurrentTab(){return chrome.windows.getCurrent({populate:!0}).then(e=>e.tabs.find(e=>e.active))}function updateOption(e,t){let n={};n[e]=t,getCurrentTab().then(e=>{chrome.tabs.sendMessage(e.id,{options:n})})}chrome.runtime.onMessage.addListener((e,t,n)=>{console.log("POPUP received message:",e),n({response:"POPUP response"})}),chrome.runtime.sendMessage({greeting:"hello from POPUP",document:document}).then(e=>{console.log("POPUP received response:",e)}),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("input").forEach(e=>{e.addEventListener("change",e=>{console.log("change",e.currentTarget.id,e.currentTarget.value),updateOption(e.currentTarget.id,e.currentTarget.value)})})});
